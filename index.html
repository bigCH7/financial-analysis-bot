<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Crypto Dashboard</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #fafafa;
      color: #222;
      max-width: 1000px;
      margin: auto;
      padding: 2rem;
    }
    nav a {
      margin-right: 1.2rem;
      text-decoration: none;
      font-weight: 600;
      color: #6b4eff;
    }
    nav {
      margin-bottom: 2rem;
    }
    pre {
      background: white;
      padding: 1.5rem;
      border-radius: 12px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

<nav>
  <a href="index.html">Overview</a>
  <a href="btc.html">Bitcoin</a>
  <a href="eth.html">Ethereum</a>
  <a href="news.html">News</a>
</nav>

<h1>Macro Overview</h1>

<div id="macro">Loading...</div>

<script>
async function fetchLongTermReport() {
  const candidates = [
    "reports/long_term_report.md",
    "../reports/long_term_report.md",
    "long_term_report.md"
  ];

  for (const path of candidates) {
    try {
      const res = await fetch(path, { cache: "no-store" });
      if (res.ok) return await res.text();
    } catch (_) {}
  }

  throw new Error("Long-term report not found.");
}

fetchLongTermReport()
  .then((text) => {
    const firstAssetIndex = text.indexOf("\n## ");
    const macro = firstAssetIndex > 0
      ? text.slice(0, firstAssetIndex).trim()
      : text.trim();
    document.getElementById("macro").innerHTML = "<pre></pre>";
    document.querySelector("#macro pre").textContent =
      macro || "No long-term summary available.";
  })
  .catch(() => {
    document.getElementById("macro").textContent =
      "Failed to load long-term analysis.";
  });
</script>

</body>
</html>
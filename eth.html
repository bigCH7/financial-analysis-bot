<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ethereum Analysis</title>

  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #fafafa;
      color: #222;
      max-width: 1000px;
      margin: auto;
      padding: 2rem;
    }

    nav a {
      margin-right: 1.2rem;
      text-decoration: none;
      font-weight: 600;
      color: #627eea;
    }

    .card {
      background: white;
      padding: 1.5rem;
      border-radius: 14px;
      margin-bottom: 1.5rem;
    }

    .toggle {
      cursor: pointer;
      color: #627eea;
      font-weight: 600;
      margin-top: 1rem;
    }

    .hidden {
      display: none;
      margin-top: 1rem;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

<nav>
  <a href="index.html">Overview</a>
  <a href="btc.html">Bitcoin</a>
  <a href="eth.html">Ethereum</a>
  <a href="news.html">News</a>
</nav>

<h1>Ethereum (ETH)</h1>

<div class="card">
  <h3>Long-Term Outlook</h3>
  <p>Growth asset, smart contract dominance, risk-sensitive.</p>

  <div class="toggle" onclick="toggle()">+ Show full analysis</div>
  <div id="analysis" class="hidden">Loading...</div>
</div>

<script>
function toggle() {
  document.getElementById("analysis").classList.toggle("hidden");
}

async function fetchLongTermReport() {
  const candidates = [
    "reports/long_term_report.md",
    "../reports/long_term_report.md",
    "long_term_report.md"
  ];

  for (const path of candidates) {
    try {
      const res = await fetch(path, { cache: "no-store" });
      if (res.ok) return await res.text();
    } catch (_) {}
  }

  throw new Error("Long-term report not found.");
}

function extractSection(text, heading) {
  const marker = `## ${heading}`;
  const start = text.indexOf(marker);
  if (start === -1) return null;
  const afterStart = text.slice(start);
  const nextHeading = afterStart.indexOf("\n## ", marker.length);
  return (nextHeading === -1 ? afterStart : afterStart.slice(0, nextHeading)).trim();
}

fetchLongTermReport()
  .then((text) => {
    const section = extractSection(text, "Ethereum (ETH)");
    document.getElementById("analysis").textContent =
      section || "Ethereum section not found in long-term report.";
  })
  .catch(() => {
    document.getElementById("analysis").textContent =
      "Failed to load long-term analysis.";
  });
</script>

</body>
</html>